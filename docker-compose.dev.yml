# Development override - Run services independently without proxy
# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  # Disable proxy in development
  proxy:
    profiles:
      - production

  # API - Expose directly on port 8080
  api:
    ports:
      - "8080:8080"
    environment:
      - PORT=8080
      - HOST=0.0.0.0
      - NODE_ENV=development
      - DATABASE_URL=./data/webhoxy.db
      - CORS_ORIGIN=*
      - LOG_LEVEL=info
      - LOG_PRETTY=true
      - LOG_RETENTION_DAYS=7
      - LOG_CLEANUP_INTERVAL_HOURS=24
      - APP_NAME=Webhoxy
      - APP_VERSION=0.1.0
      - PUBLIC_URL=http://localhost:8080
    depends_on: {}  # Remove proxy dependency

  # Web - Expose directly on port 3000 to avoid conflict
  web:
    ports:
      - "3000:80"
    depends_on: {}  # Remove proxy dependency

